<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Linux on 翻轉吧金魚腦</title><link>https://blog.goldfishbrain-fighting.com/tags/linux/</link><description>Recent content in Linux on 翻轉吧金魚腦</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Mon, 18 Dec 2023 22:22:30 +0800</lastBuildDate><atom:link href="https://blog.goldfishbrain-fighting.com/tags/linux/index.xml" rel="self" type="application/rss+xml"/><item><title>在 Ubuntu 出現 Key is stored in legacy trusted.gpg keyring (/etc/apt/trusted.gpg), see the DEPRECATION section in apt-key(8) for details.</title><link>https://blog.goldfishbrain-fighting.com/2023/error-key-is-stored-in-legacy-trusted-gpg-keyring/</link><pubDate>Mon, 18 Dec 2023 22:22:30 +0800</pubDate><guid>https://blog.goldfishbrain-fighting.com/2023/error-key-is-stored-in-legacy-trusted-gpg-keyring/</guid><description>&lt;p>出現報錯：但還是可以更新&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">W&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">https&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">//&lt;/span>&lt;span class="n">download&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">docker&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">com&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">linux&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">ubuntu&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">dists&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">jammy&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">InRelease&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">Key&lt;/span> &lt;span class="n">is&lt;/span> &lt;span class="n">stored&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">legacy&lt;/span> &lt;span class="n">trusted&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">gpg&lt;/span> &lt;span class="n">keyring&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">apt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">trusted&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">gpg&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">see&lt;/span> &lt;span class="n">the&lt;/span> &lt;span class="n">DEPRECATION&lt;/span> &lt;span class="n">section&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">apt&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">key&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">8&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="n">details&lt;/span>&lt;span class="o">.&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">root@k8s-master71u:~/rook/deploy/examples# apt update
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Hit:1 http://tw.archive.ubuntu.com/ubuntu jammy InRelease
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Get:2 http://tw.archive.ubuntu.com/ubuntu jammy-updates InRelease &lt;span class="o">[&lt;/span>&lt;span class="m">119&lt;/span> kB&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Hit:3 https://download.docker.com/linux/ubuntu jammy InRelease
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Hit:4 http://tw.archive.ubuntu.com/ubuntu jammy-backports InRelease
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Get:5 http://tw.archive.ubuntu.com/ubuntu jammy-security InRelease &lt;span class="o">[&lt;/span>&lt;span class="m">110&lt;/span> kB&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Fetched &lt;span class="m">229&lt;/span> kB in 1s &lt;span class="o">(&lt;/span>&lt;span class="m">244&lt;/span> kB/s&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Reading package lists... Done
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Building dependency tree... Done
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Reading state information... Done
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="m">50&lt;/span> packages can be upgraded. Run &lt;span class="s1">&amp;#39;apt list --upgradable&amp;#39;&lt;/span> to see them.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">W: https://download.docker.com/linux/ubuntu/dists/jammy/InRelease: Key is stored in legacy trusted.gpg keyring &lt;span class="o">(&lt;/span>/etc/apt/trusted.gpg&lt;span class="o">)&lt;/span>, see the DEPRECATION section in apt-key&lt;span class="o">(&lt;/span>8&lt;span class="o">)&lt;/span> &lt;span class="k">for&lt;/span> details.
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">root@k8s-master71u:~/rook/deploy/examples# sudo apt-key list
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Warning: apt-key is deprecated. Manage keyring files in trusted.gpg.d instead &lt;span class="o">(&lt;/span>see apt-key&lt;span class="o">(&lt;/span>8&lt;span class="o">))&lt;/span>.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/etc/apt/trusted.gpg
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">--------------------
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pub rsa4096 2017-02-22 &lt;span class="o">[&lt;/span>SCEA&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 9DC8 &lt;span class="m">5822&lt;/span> 9FC7 DD38 854A E2D8 8D81 803C 0EBF CD88
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">uid &lt;span class="o">[&lt;/span> unknown&lt;span class="o">]&lt;/span> Docker Release &lt;span class="o">(&lt;/span>CE deb&lt;span class="o">)&lt;/span> &amp;lt;docker@docker.com&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sub rsa4096 2017-02-22 &lt;span class="o">[&lt;/span>S&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/etc/apt/trusted.gpg.d/ubuntu-keyring-2012-cdimage.gpg
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">------------------------------------------------------
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pub rsa4096 2012-05-11 &lt;span class="o">[&lt;/span>SC&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="m">8439&lt;/span> 38DF 228D 22F7 B374 2BC0 D94A A3F0 EFE2 &lt;span class="m">1092&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">uid &lt;span class="o">[&lt;/span> unknown&lt;span class="o">]&lt;/span> Ubuntu CD Image Automatic Signing Key &lt;span class="o">(&lt;/span>2012&lt;span class="o">)&lt;/span> &amp;lt;cdimage@ubuntu.com&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/etc/apt/trusted.gpg.d/ubuntu-keyring-2018-archive.gpg
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">------------------------------------------------------
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pub rsa4096 2018-09-17 &lt;span class="o">[&lt;/span>SC&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> F6EC B376 &lt;span class="m">2474&lt;/span> EDA9 D21B &lt;span class="m">7022&lt;/span> &lt;span class="m">8719&lt;/span> 20D1 991B C93C
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">uid &lt;span class="o">[&lt;/span> unknown&lt;span class="o">]&lt;/span> Ubuntu Archive Automatic Signing Key &lt;span class="o">(&lt;/span>2018&lt;span class="o">)&lt;/span> &amp;lt;ftpmaster@ubuntu.com&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>將第一個pub的後八碼提取出來0EBF CD88&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">root@k8s-master71u:~/rook/deploy/examples# sudo apt-key &lt;span class="nb">export&lt;/span> 0EBFCD88 &lt;span class="p">|&lt;/span> sudo gpg --dearmour -o /etc/apt/trusted.gpg.d/hashicorp.gpg
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Warning: apt-key is deprecated. Manage keyring files in trusted.gpg.d instead &lt;span class="o">(&lt;/span>see apt-key&lt;span class="o">(&lt;/span>8&lt;span class="o">))&lt;/span>.
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>這樣update就不會有那個訊息了&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">root@k8s-master71u:~/rook/deploy/examples# apt update
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Hit:1 http://tw.archive.ubuntu.com/ubuntu jammy InRelease
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Hit:2 http://tw.archive.ubuntu.com/ubuntu jammy-updates InRelease
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Hit:3 http://tw.archive.ubuntu.com/ubuntu jammy-backports InRelease
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Hit:4 http://tw.archive.ubuntu.com/ubuntu jammy-security InRelease
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Hit:5 https://download.docker.com/linux/ubuntu jammy InRelease
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Reading package lists... Done
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Building dependency tree... Done
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Reading state information... Done
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="m">50&lt;/span> packages can be upgraded. Run &lt;span class="s1">&amp;#39;apt list --upgradable&amp;#39;&lt;/span> to see them.
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item></channel></rss>